<div class="monitoring-container">
  <div class="panel left-panel">
    <div class="panel-header">
      <h2>Farm Monitoring</h2>
    </div>
    
    <div class="sensor-metrics">
      <div class="metric-card">
        <div class="metric-icon temperature-icon">üå°Ô∏è</div>
        <div class="metric-details">
          <div class="metric-title">Temperature</div>
          <div class="metric-value">{{ monitoringData.temperature }} ¬∞C</div>
        </div>
      </div>
      
      <div class="metric-card">
        <div class="metric-icon moisture-icon">üå±</div>
        <div class="metric-details">
          <div class="metric-title">Soil Moisture</div>
          <div class="metric-value">{{ monitoringData.soilMoisture }} %</div>
        </div>
      </div>
    </div>
    
    <div class="status-panel">
      <div class="status-header">Pump Status</div>
      <div class="pump-status" [ngClass]="{'status-on': pumpState?.isRunning, 'status-off': !pumpState?.isRunning, 'status-processing': pumpState?.isProcessing}">
        <div class="status-indicator"></div>
        <div class="status-text">{{ pumpState?.status || 'Checking status...' }}</div>
      </div>
      
      <div class="control-section">
        <button 
          class="control-button" 
          [ngClass]="{'btn-on': !pumpState?.isRunning, 'btn-off': pumpState?.isRunning}"
          [disabled]="pumpState?.isProcessing"
          (click)="togglePump()">
          {{ pumpState?.isProcessing ? 'PROCESSING...' : (pumpState?.isRunning ? 'STOP PUMP' : 'START PUMP') }}
        </button>
      </div>
      
      <div *ngIf="irrigationRecommended" class="recommendation">
        <div class="recommendation-icon">‚ö†Ô∏è</div>
        <div class="recommendation-text">Low soil moisture detected. Consider irrigation.</div>
      </div>
    </div>
    
    <div class="info-footer">
      <div>Last updated: {{ monitoringData.lastUpdated | date:'medium' }}</div>
      <div>Powered by Blynk Cloud</div>
    </div>
  </div>
  
  <div class="panel right-panel">
    <div class="panel-header">
      <h2>Activity Log</h2>
    </div>
    
    <div class="activity-log">
      <div *ngIf="activityLog.length === 0" class="no-activity">
        No activity recorded yet
      </div>
      
      <div *ngFor="let entry of activityLog" class="log-entry">
        <div class="log-time">{{ entry.timestamp | date:'HH:mm:ss' }}</div>
        <div class="log-details">
          <div class="log-action">{{ entry.action }}</div>
          <div class="log-status">{{ entry.status }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
